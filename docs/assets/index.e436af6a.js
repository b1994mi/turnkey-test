import{o as e,c as s,a as t,F as a,r as n,t as i,b as o,d as l}from"./vendor.8139afa4.js";const c={name:"PageSelector",props:["page","totalPages"],methods:{changePage(e){this.$emit("changePage",e)}}},r={class:"d-flex justify-content-center flex-grow-1"},g={class:"pagination my-3"};c.render=function(o,l,c,h,d,p){return e(),s("div",r,[t("ul",g,[t("li",{class:["page-item",{disabled:c.page<=1}]},[t("a",{class:"page-link",href:"#",onClick:l[1]||(l[1]=e=>p.changePage(c.page-1))},"Previous")],2),(e(!0),s(a,null,n(c.totalPages,(a=>(e(),s("li",{key:a,class:["page-item",{active:a==c.page}]},[t("a",{class:"page-link",href:"#",onClick:e=>p.changePage(a)},i(a),9,["onClick"])],2)))),128)),t("li",{class:["page-item",{disabled:c.page>=c.totalPages}]},[t("a",{class:"page-link",href:"#",onClick:l[2]||(l[2]=e=>p.changePage(c.page+1))},"Next")],2)])])};const h={components:{PageSelector:c},data:()=>({isLoading:!0,users:[],usersToBeShown:[],page:1,itemsToBeShown:5,totalPages:5}),async mounted(){await this.getUsers(),this.usersToBeShown=this.users.filter(((e,s)=>s<this.itemsToBeShown)),this.totalPages=Math.ceil(this.users.length/this.totalPages)},watch:{page:function(e){console.log(this.itemsToBeShown);const s=e*this.itemsToBeShown-this.itemsToBeShown;this.usersToBeShown=this.users.filter(((e,t)=>t>=s&&t<s+this.itemsToBeShown))},itemsToBeShown:function(e){const s=this.page*e-e;this.usersToBeShown=this.users.filter(((t,a)=>a>=s&&a<s+e))}},methods:{async getUsers(){this.isLoading=!0;let e="https://randomuser.me/api/?";const s=window.localStorage.getItem("seed");s&&(e+=`seed=${s}&`);const t=await fetch(`${e}results=20`),{info:a,results:n}=await t.json();s||window.localStorage.setItem("seed",a.seed),this.users=n.map((e=>({name:e.name.first+" "+e.name.last,email:e.email,picture:e.picture.large,phone:e.phone,country:e.location.country}))),this.isLoading=!1},changePage(e){this.page=e},changeItemsPerPage(e){const s=parseInt(e.target.value);this.itemsToBeShown=s,this.totalPages=Math.ceil(this.users.length/s),this.page>this.totalPages&&(this.page=this.totalPages)}}},d={class:"p-2"},p={key:0,style:{height:"calc(95vh)"},class:"d-flex justify-content-center align-items-center"},u=t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),m={key:1,class:"d-flex flex-wrap justify-content-center"},f={class:"card-body"},P={class:"card-title"},w={class:"card-text mb-0"},y={class:"card-text mb-0"},v={class:"card-text"},S={class:"d-flex w-100 flex-wrap justify-content-center"},x={class:"d-flex flex-shrink-1 justify-content-center"},k=t("p",{class:"d-flex justify-content-end align-items-center mb-0 me-2"}," Items per page: ",-1),B={class:"d-block",style:{margin:"auto 0"}},T=t("option",{selected:"",value:"5"},"5",-1),b=t("option",{value:"10"},"10",-1),C=t("option",{value:"15"},"15",-1),j=t("option",{value:"20"},"20",-1);h.render=function(l,c,r,g,h,I){const L=o("page-selector");return e(),s("div",d,[l.isLoading?(e(),s("div",p,[u])):(e(),s("div",m,[(e(!0),s(a,null,n(l.usersToBeShown,(a=>(e(),s("div",{key:a.email,class:"card card-user m-3"},[t("img",{src:a.picture,class:"card-img-top",alt:"..."},null,8,["src"]),t("div",f,[t("h5",P,i(a.name),1),t("p",w,"Ph: "+i(a.phone),1),t("p",y,"Email: "+i(a.email),1),t("p",v,"Country: "+i(a.country),1)])])))),128)),t("div",S,[t(L,{page:l.page,totalPages:l.totalPages,onChangePage:I.changePage},null,8,["page","totalPages","onChangePage"]),t("div",x,[k,t("div",B,[t("select",{onChange:c[1]||(c[1]=e=>I.changeItemsPerPage(e)),class:"form-select form-select-sm",style:{width:"5rem"}},[T,b,C,j],32)])])])]))])};const I={components:{UsersCard:h}};I.render=function(t,a,n,i,l,c){const r=o("users-card");return e(),s(r)},l(I).mount("#app");
